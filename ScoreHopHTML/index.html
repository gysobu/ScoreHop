<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  </head>
  <body>
      <style>
          .sbox{
              position: absolute;
              top:20%;
              left:10%;

          }
          li{
              list-style-type:none;
          }
          p{
            margin:0px
          }
          



         
          
        </style>
      <div class="container sbox">
        <div class="input-group mb-3 ">
                <input type="text" id="event" class="form-control input" 
                placeholder="Search by sports,concert,theater" 
                aria-label="Search by sports,concert,theater" 
                aria-describedby="button-addon2">
                <div class="input-group-append">
                  <button class="btn btn-primary" 
                  type="button" 
                  id="button-addon2">Search</button>
                </div>
        </div>
              <div>
                    <input type="text" id="city" 
                    class="btn-btn-primary" 
                    placeholder=" search by city">
                </div>
                <div style="height:30px;width:10px "></div>
                
                <div  id="main" class="container">
                        <ul id="unorder-list">
                        </ul>           
                    </div>                    
            </div>
          
            
              
        <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
      <script>   
          $(function(){
                               
           $('#button-addon2').click(function()
           
           {  
               $('li').remove()   
            var coordsarr=[]; 
            
            var interest=$('#event').val()  
            var usercity=$("#city").val()
            var $unorder=$("#unorder-list")
    //   $.get(`https://api.seatgeek.com/2/events?client_id=MTQ0OTYyNTZ8MTU0NTI2OTM2NS4yNg`)
     $.get(`https://api.seatgeek.com/2/events?q=${interest}&client_id=MTQ0OTYyNTZ8MTU0NTI2OTM2NS4yNg`)
      .done(result=>
      {
          console.log(result)     
           $.each(result.events,function(index,value){
        //    if(value.venue.city==usercity){    
           console.log(value.title)
           console.log(new Date(value.datetime_utc))
          //  console.log(new Date(value.datetime_local))
           date =new Date(value.datetime_local)
           console.log(value.venue.address+" "+value.venue.extended_address)
           console.log(value.venue.id)
           console.log(`lat=`+value.venue.location.lat)
           console.log(`lon=`+value.venue.location.lon)
           $unorder.append("<li><div class='card bg-info text-white'>"+
           "<div class='card-body'>"+"<a style='color:white' id="+value.venue.id+" href='#'>"+
           "<p>"+value.title+"</p>"+
            "<p>"+new Date(value.datetime_utc)+"</p>"+
            "<p>"+value.venue.address+" "+value.venue.extended_address+"</p>"+
            "</a></div></div><br></li>")// end of append
          var coords={}
          coords['lat']=value.venue.location.lat
          coords['lon']=value.venue.location.lon
          coords['id']=value.venue.id
          coordsarr.push(coords)
          console.log(coords)
          console.log(coordsarr)
        //    }
       })// end of each
       
       $("a").click(function(event){
            event.preventDefault()
            console.log(coordsarr)
            console.log(event)
            //var idval=this.id
            var idval=$(this).attr('id');
            //
            coordsarr.map(function(arr,index){
                if(arr['id']==idval){
                    console.log(arr['lat'])
                    console.log(arr['lon'])
                }
            }) 
            
            
       })     
    })//end of done
    

    })//end of click    
        })//end of Jquery
    </script>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" 
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" 
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" 
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" 
    crossorigin="anonymous">
    </script>
  </body>
</html>
